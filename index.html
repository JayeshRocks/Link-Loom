<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Link Loom | A URL//Link shortening service made by JayeshRocks</title>
  <link rel="icon" type="image/png" href="https://github.com/JayeshRocks/Link-Loom/blob/main/linkIcon.png?raw=true">

  <!-- Single Page Apps for GitHub Pages -->
  <script type="text/javascript">
    (function(l) {
      if (l.search) {
        var q = {};
        l.search.slice(1).split('&').forEach(function(v) {
          var a = v.split('=');
          q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
        });
        if (q.p !== undefined) {
          window.history.replaceState(null, null,
            l.pathname.slice(0, -1) + (q.p || '') +
            (q.q ? ('?' + q.q) : '') +
            l.hash
          );
        }
      }
    }(window.location));
  </script>

  <script>
    var pathName = window.location.pathname;
    if (pathName !== "/") {
      var slug = pathName.substring(1);
      var newURL = "https://script.google.com/macros/s/AKfycbwzzkESZ8frBc4Vhq9QWGLT-jpoyiVXlRbejfO1B34m8SeSKENjnW8tGoz_8iKT3mLy/exec?" + slug;
      window.location.href = newURL;
    }
  </script>

  <style>
    .gas-frame {
      border: none;
      border-width: 0;
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }

    iframe {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      width: 100%;
    }
  </style>

</head>

<body>
  <iframe class="gas-frame" src="https://script.google.com/macros/s/AKfycbwzzkESZ8frBc4Vhq9QWGLT-jpoyiVXlRbejfO1B34m8SeSKENjnW8tGoz_8iKT3mLy/exec"></iframe>
  <script>
    if ("serviceWorker" in navigator) {
      if (navigator.serviceWorker.controller) {
        console.log("Service Worker found no need to register.");
      } else {
        navigator.serviceWorker
          .register("sw.js", {
            scope: "./"
          })
          .then(function(reg) {
            console.log("Service worker registered.");
          });
      }
    }
  </script>
</body>

</html>
